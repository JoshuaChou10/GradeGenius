<!-- dashboard.html -->
{% extends 'base.html' %}

{% block title %}Courses Dashboard{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block header %}Courses Dashboard{% endblock %}

{% block content %}
    
    <section class="courses-list">
        <div class="gpa">
             {% if GPA == 0.0 %}No Grade Average yet {%else%} Grade Average: {{ GPA|round(2) }}%{% endif %}
        </div>
        <button href="{{ url_for('create_course') }}" class="btn">+ Course</button>
        <ul>
            {% for course in courses %}
                <li>
                    <a href="{{ url_for('course_details', course_id=course.id) }}">
                        {{course.code}}: {{ course.name }} - {% if course.grade == 0.0 %}No grade yet{% else %}{{ course.grade|round(2) }}%{% endif %}
                    </a>
                    
                  
                    <!-- Delete button in form -->
                    <form action="{{ url_for('delete_course', course_id=course.id) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this course?');">
                        <input type="hidden" name="_method" value="DELETE">
                        <input type="submit" value="Delete">
                    </form>
                </li>
            {% endfor %}
        </ul>
    </section>
    


{% endblock %}
